<html>
<head><title>Adrezo Help</title>
<link rel="stylesheet" href="../../stylesheet/common.css" type="text/css" />
</head>
<body>
<h2>API Syntax, Template section</h2>

<h3>Site template list</h3>
Return array with informations on each site template.<br />
Required Roles : API
<ul>
<li>URL<ul><li><b>GET /api/template/sites</b></li></ul></li>
<li>In : None</li>
<li>Out (JSON)
<ul><li>{ "site_list" : [ { "id":&lt;id&gt;,"name":&lt;name&gt;,"mask":&lt;mask&gt;,"nbvlan":&lt;nbvlan&gt;,"nbsubnet":&lt;nbsubnet&gt; },{...} ] } 
<ul><li>id : integer, site id in database</li>
<li>name : string, site name</li>
<li>mask : integer, template mask</li>
<li>nbvlan : integer, template number of vlans</li>
<li>nbsubnet : integer, template number of subnets</li></ul></li>
</ul></li>
<li>HTTP return code, if not ok return informations in text format
<ul><li>500 : internal error in API</li>
<li>404 : site template not found</li>
<li>200 : ok, return result in JSON format</li></ul></li>
</ul>
<hr />

<h3>Informations on site template</h3>
Return informations over a given site template.<br />
Required Roles : API
<ul>
<li>URL<ul><li><b>GET /api/template/site/&lt;site&gt;</b></li></ul></li>
<li>In (URI)<ul><li>site : integer, site template id in database</li></ul></li>
<li>Out (JSON)
<ul><li>{ "id":&lt;id&gt;,"name":&lt;name&gt;,"mask":&lt;mask&gt;,"nbvlan":&lt;nbvlan&gt;,"nbsubnet":&lt;nbsubnet&gt; }
<ul><li>id : integer, site id in database</li>
<li>name : string, site name</li>
<li>mask : integer, template mask</li>
<li>nbvlan : integer, template number of vlans</li>
<li>nbsubnet : integer, template number of subnets</li></ul></li>
</ul></li>
<li>HTTP return code, if not ok return informations in text format
<ul><li>500 : internal error in API</li>
<li>404 : site template not found</li>
<li>200 : ok, return result in JSON format</li></ul></li>
</ul>
<hr />

<h3>Informations on vlan template</h3>
Return informations over a given vlan template.<br />
Required Roles : API
<ul>
<li>URL<ul><li><b>GET /api/template/vlan/&lt;vlan&gt;</b></li></ul></li>
<li>In (URI)<ul><li>vlan : integer, vlan template id in database</li></ul></li>
<li>Out (JSON)
<ul><li>{ "id":&lt;id&gt;,"name":&lt;name&gt;,"vid":&lt;vid&gt;,"template":&lt;template&gt; }
<ul><li>id : integer, vlan template id in database</li>
<li>name : string, vlan name</li>
<li>vid : integer, vlan id</li>
<li>template : integer, template site id in database</li></ul></li>
</ul></li>
<li>HTTP return code, if not ok return informations in text format
<ul><li>500 : internal error in API</li>
<li>404 : vlan not found</li>
<li>200 : ok, return result in JSON format</li></ul></li>
</ul>
<hr />

<h3>Vlans template List</h3>
Return array with informations on each vlan of a given site template.<br />
Required Roles : API
<ul>
<li>URL<ul><li><b>GET /api/template/vlan/list/&lt;site&gt;</b></li></ul></li>
<li>In (URI)<ul><li>site : integer, site template id in database</li></ul></li>
<li>Out (JSON)
<ul><li>{ "vlan_list": [ { "id":&lt;id&gt;,"name":&lt;name&gt;,"vid":&lt;vid&gt;,"template":&lt;template&gt; },{...} ] }
<ul><li>id : integer, vlan template id in database</li>
<li>name : string, vlan name</li>
<li>vid : integer, vlan id</li>
<li>template : integer, template site id in database</li></ul></li></ul></li>
<li>HTTP return code, if not ok return informations in text format
<ul><li>500 : internal error in API</li>
<li>404 : vlans list empty</li>
<li>200 : ok, return result in JSON format</li></ul></li>
</ul>
<hr />

<h3>Informations on subnet template</h3>
Return informations over a given subnet template.<br />
Required Roles : API
<ul>
<li>URL<ul><li><b>GET /api/template/subnet/&lt;subnet&gt;</b></li></ul></li>
<li>In (URI)<ul><li>subnet : integer, subnet template id in database</li></ul></li>
<li>Out (JSON)
<ul><li>{ "id":&lt;id&gt;,"name":&lt;name&gt;,"ip":&lt;ip&gt;,"mask":&lt;mask&gt;,"gw":&lt;gw&gt;,"bc":&lt;bc&gt;,"vlan":&lt;vlan&gt;,"template":&lt;template&gt;,"surnets":&lt;surnets&gt; }
<ul><li>id : integer, subnet template id in database</li>
<li>name : string, subnet name</li>
<li>ip : string, subnet IP</li>
<li>mask : integer, subnet mask</li>
<li>gw : integer, subnet gateway IP</li>
<li>bc : integer, subnet broadcast IP</li>
<li>vlan : integer, vlan template id in database</li>
<li>template : integer, site template id in database</li>
<li>surnets : string, surnets list</li></ul></li></ul></li>
<li>HTTP return code, if not ok return informations in text format
<ul><li>500 : internal error in API</li>
<li>404 : subnet not found</li>
<li>200 : ok, return result in JSON format</li></ul></li>
</ul>
<hr />

<h3>Subnets template List</h3>
Return array with informations on each subnet of a given site template.<br />
Required Roles : API
<ul>
<li>URL<ul><li><b>GET /api/template/subnet/list/&lt;site&gt;</b></li></ul></li>
<li>In (URI)<ul><li>site : integer, site template id in database</li></ul></li>
<li>Out (JSON)
<ul><li>{ "subnet_list": [ { "id":&lt;id&gt;,"name":&lt;name&gt;,"ip":&lt;ip&gt;,"mask":&lt;mask&gt;,"gw":&lt;gw&gt;,"bc":&lt;bc&gt;,"vlan":&lt;vlan&gt;,"template":&lt;template&gt;,"surnets":&lt;surnets&gt; },{...} ] }
<ul><li>id : integer, subnet template id in database</li>
<li>name : string, subnet name</li>
<li>ip : string, subnet IP</li>
<li>mask : integer, subnet mask</li>
<li>gw : integer, subnet gateway IP</li>
<li>bc : integer, subnet broadcast IP</li>
<li>vlan : integer, vlan template id in database</li>
<li>template : integer, site template id in database</li>
<li>surnets : string, surnets list</li></ul></li></ul></li>
<li>HTTP return code, if not ok return informations in text format
<ul><li>500 : internal error in API</li>
<li>404 : subnets list empty</li>
<li>200 : ok, return result in JSON format</li></ul></li>
</ul>
<hr />

</body>
</html>
